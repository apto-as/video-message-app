# 🚀 動画メッセージアプリ クイックスタートガイド

## 📦 ワンコマンド起動

```bash
cd /Users/apto-as/workspace/github.com/apto-as/prototype-app/video-message-app
./start_app.sh
```

## 🎯 start_app.sh の機能

### 🔧 自動実行内容
1. **環境チェック**: Python、Node.js、ディレクトリ構造の確認
2. **ポートチェック**: 55433番、55434番ポートの使用状況確認
3. **依存関係インストール**: 必要に応じて自動インストール
4. **バックエンド起動**: FastAPI サーバー (ポート55433)
5. **フロントエンド起動**: React開発サーバー (ポート55434)
6. **起動確認**: 各サーバーの正常起動を確認
7. **ブラウザ起動**: オプションで自動ブラウザ起動

### 📊 起動プロセス表示例
```
🚀 動画メッセージアプリを起動します...
🔍 依存関係をチェックしています...
✅ 依存関係チェック完了
🔍 ポートの使用状況をチェックしています...
🚀 バックエンドサーバーを起動しています...
✅ バックエンドサーバーが起動しました (PID: 12345)
🎨 フロントエンドサーバーを起動しています...
✅ フロントエンドサーバーが起動しました (PID: 12346)

🎉 アプリケーションが正常に起動しました！

📱 アクセス情報:
   フロントエンド: http://localhost:55434
   バックエンドAPI: http://localhost:55433
```

### 🛑 終了方法
- **./stop_app.sh** で両方のサーバーを安全に終了
- 自動クリーンアップ機能付き
- ポート55434, 55433の完全開放を保証

## 🔧 個別起動（トラブルシューティング用）

### バックエンドのみ
```bash
cd backend
./run_server.sh
```

### フロントエンドのみ
```bash
cd frontend
./run_frontend.sh
```

## 📝 ログファイル

起動スクリプトは以下のログファイルを作成します：
- `backend.log`: バックエンドサーバーのログ
- `frontend.log`: フロントエンドサーバーのログ

## 🧪 テスト手順

1. **スクリプト実行**
   ```bash
   ./start_app.sh
   ```

2. **ブラウザアクセス**
   - 自動で開くか、手動で `http://localhost:55434` へアクセス

3. **機能テスト**
   - 画像アップロード
   - 背景処理設定
   - 動画生成

4. **終了**
   - `./stop_app.sh` でクリーンな終了

## ⚠️ トラブルシューティング

### ポートが使用中の場合
```bash
# ポート55433を使用しているプロセスを確認
lsof -i :55433

# プロセスを終了
kill -9 <PID>
```

### 依存関係エラーの場合
```bash
# 手動で依存関係をインストール
cd backend && pip install -r requirements.txt
cd ../frontend && npm install
```

### ログ確認
```bash
# リアルタイムログ監視
tail -f backend.log
tail -f frontend.log
```

## 🎯 便利な使い方

### 開発モード
スクリプトはホットリロード対応で、コード変更が自動反映されます。

### 本格テスト
- D-ID APIキーが設定済み
- 画像処理機能（rembg）が完全動作
- 背景合成機能が利用可能

このスクリプト一つで、開発環境から本格的なテストまで全て実行できます！